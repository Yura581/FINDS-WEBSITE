import{_ as A}from"./CEV-81oJ.js";import{_ as U,s as E,r as R,f as x,x as G,g as J,c as i,a as e,b as P,w as D,i as L,t as n,F as V,m as z,j as K,d as m,o as c,p as Q}from"./CPW9fKb_.js";import{u as W}from"./BTwLb6Dk.js";import{u as X}from"./DQzLzbKW.js";const Y={class:"min-h-screen antialiased bg-white"},Z={class:"max-w-screen-xl px-4 py-8 mx-auto 2xl:px-0"},ee={class:"flex mb-8 text-sm","aria-label":"Breadcrumb"},te={class:"inline-flex items-center space-x-1 md:space-x-3"},se={class:"inline-flex items-center"},oe={class:"flex items-center"},re={"aria-current":"page"},ne={class:"flex items-center"},ae={class:"text-gray-500"},le={class:"lg:grid lg:grid-cols-2 lg:gap-8 xl:gap-16"},ie={class:"shrink-0 max-w-md lg:max-w-lg mx-auto"},ce={class:"relative aspect-square overflow-hidden rounded-lg bg-gray-100",itemscope:"",itemtype:"http://schema.org/ImageObject"},de=["src","alt"],ue=["content"],me=["content"],pe={class:"image-list mt-4 grid grid-cols-5 gap-2"},ge=["onClick"],he=["src","alt"],_e={class:"mt-6 sm:mt-8 lg:mt-0"},fe={itemscope:"",itemtype:"http://schema.org/Product"},xe={itemprop:"name",class:"text-2xl font-bold text-gray-900 sm:text-3xl"},ye={class:"mt-4 flex items-center gap-4"},ve={itemprop:"offers",itemscope:"",itemtype:"http://schema.org/Offer",class:"text-3xl font-extrabold text-gray-900"},we=["content"],ke={itemprop:"price"},be={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},Ce={class:"mt-6 flex flex-col sm:flex-row gap-4"},$e=["href"],Ne={itemprop:"description",class:"prose prose-sm max-w-none"},je={class:"text-gray-700 leading-relaxed"},Be={class:"mt-8"},Ie={class:"mt-4 space-y-4"},Se={class:"text-sm font-medium text-gray-500"},Me={class:"text-sm text-gray-900 col-span-2"},Pe={__name:"[productName]",async setup(De){let p,y;const v=E(),{creatorName:l,productName:F}=v.params,h=R(0),_=x(()=>v.query.currency||"USD"),{data:q}=([p,y]=G(()=>X("productData",()=>$fetch("/api/getProductData",{params:{creatorName:l,productName:F,currency:_.value}}))),p=await p,y(),p),s=x(()=>{var o;return(o=q.value)==null?void 0:o.body}),f=x(()=>{var o,t;return(t=(o=s.value)==null?void 0:o.images)==null?void 0:t[h.value]});J(()=>{var o,t;if(s.value){const r=s.value.name,a=s.value.description,g=(t=(o=s.value.images)==null?void 0:o[0])==null?void 0:t.url;W({title:`${r} | Mulebuy Spreadsheet`,meta:[{name:"description",content:`Buy ${r} on Mulebuy Spreadsheet. ${a==null?void 0:a.substring(0,150)}...`},{name:"robots",content:"index, follow"},{property:"og:type",content:"product"},{property:"og:title",content:`${r} | Mulebuy Spreadsheet`},{property:"og:description",content:a},{property:"og:image",content:g},{property:"og:url",content:`https://mulebuysheet.com/mulebuy-spreadsheet/${l}/${r}`},{name:"twitter:card",content:"summary_large_image"}],link:[{rel:"canonical",href:`https://mulebuysheet.com/mulebuy-spreadsheet/${l}/${r}`}]})}});const H=o=>{h.value=o},O=()=>{},T=async()=>{try{s.value&&s.value.id&&(await $fetch("/api/trackPurchase",{method:"POST",body:{creatorName:l,productId:s.value.id}}),console.log("Purchase tracked successfully"))}catch(o){console.error("Failed to track purchase:",o)}};return(o,t)=>{var a,g,w,k,b,C,$,N,j,B,I,S,M;const r=A;return c(),i("section",Y,[e("div",Z,[e("nav",ee,[e("ol",te,[e("li",se,[P(r,{to:"/",class:"text-gray-700 hover:text-primary-600"},{default:D(()=>t[0]||(t[0]=[m("Home")])),_:1})]),e("li",null,[e("div",oe,[t[1]||(t[1]=e("svg",{class:"w-3 h-3 mx-1 text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 9 4-4-4-4"})],-1)),P(r,{to:`https://mychinafinds.com/creator/${L(l)}`,target:"_blank",rel:"noopener noreferrer",class:"text-gray-700 hover:text-primary-600"},{default:D(()=>[m(n(L(l)),1)]),_:1},8,["to"])])]),e("li",re,[e("div",ne,[t[2]||(t[2]=e("svg",{class:"w-3 h-3 mx-1 text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 9 4-4-4-4"})],-1)),e("span",ae,n((a=s.value)==null?void 0:a.name),1)])])])]),e("div",le,[e("div",ie,[e("div",ce,[e("img",{src:(g=f.value)==null?void 0:g.url,alt:((w=f.value)==null?void 0:w.description)||((k=s.value)==null?void 0:k.name),class:"w-full h-full object-cover",itemprop:"contentUrl",loading:"eager",fetchpriority:"high"},null,8,de),e("meta",{itemprop:"name",content:(b=s.value)==null?void 0:b.name},null,8,ue),e("meta",{itemprop:"description",content:(C=f.value)==null?void 0:C.description},null,8,me)]),e("div",pe,[(c(!0),i(V,null,z(($=s.value)==null?void 0:$.images,(d,u)=>(c(),i("button",{key:u,class:Q(["relative aspect-square overflow-hidden rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",{"ring-2 ring-primary-500":h.value===u}]),onClick:Le=>H(u)},[e("img",{src:d.url,alt:d.description,class:"w-full h-full object-cover",loading:"lazy"},null,8,he)],10,ge))),128))])]),e("div",_e,[e("div",fe,[e("h1",xe,n((N=s.value)==null?void 0:N.name),1),e("div",ye,[e("p",ve,[e("meta",{itemprop:"priceCurrency",content:_.value},null,8,we),e("span",ke,n((j=s.value)==null?void 0:j.price),1),m(" "+n(_.value),1)]),(B=s.value)!=null&&B.inStock?(c(),i("span",be," In Stock ")):K("",!0)]),e("div",Ce,[e("button",{onClick:O,class:"flex-1 inline-flex justify-center items-center px-5 py-3 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},t[3]||(t[3]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})],-1),m(" Save ")])),e("a",{href:(I=s.value)==null?void 0:I.link,target:"_blank",rel:"noopener noreferrer",onClick:T,class:"flex-1 inline-flex justify-center items-center px-5 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},t[4]||(t[4]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})],-1),m(" Buy Now ")]),8,$e)]),t[6]||(t[6]=e("hr",{class:"my-8 border-gray-200"},null,-1)),e("div",Ne,[e("p",je,n((S=s.value)==null?void 0:S.description),1)]),e("div",Be,[t[5]||(t[5]=e("h2",{class:"text-lg font-medium text-gray-900"},"Product Details",-1)),e("dl",Ie,[(c(!0),i(V,null,z((M=s.value)==null?void 0:M.details,(d,u)=>(c(),i("div",{key:u,class:"grid grid-cols-3 gap-4"},[e("dt",Se,n(d.name),1),e("dd",Me,n(d.value),1)]))),128))])])])])])])])}}},He=U(Pe,[["__scopeId","data-v-a9cf86ea"]]);export{He as default};
